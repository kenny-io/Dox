---
title: API Reference Automation
description: Wire your OpenAPI spec into the template, customize grouping, and expose overrides.
---

## Overview

The API reference pages are generated from an OpenAPI 3.1 spec. Drop your spec in `public/openapi/` (or reference a remote URL), point `src/config/api-reference.ts` at it, and the system will:

- Parse paths, operations, webhooks, parameters, request bodies, responses, servers, and auth requirements.
- Build navigation groups based on tags (with fallback to path segments).
- Hydrate the `/api/*` routes with Mintlify-style tables, accordions, and examples.

```ts
import type { ApiReferenceConfig } from '@/lib/openapi/types'

export const apiReferenceConfig: ApiReferenceConfig = {
  defaultSpecId: 'plant-store',
  specs: [
    {
      id: 'plant-store',
      label: 'Plant Store API',
      description: 'Sample reference',
      version: 'v1',
      source: {
        type: 'file',
        path: 'openapi.yaml',
      },
      tagsOrder: ['plants', 'webhooks'],
      defaultGroup: 'Core',
      webhookGroup: 'Webhooks',
    },
  ],
}
```

## Spec sources

Each spec entry accepts multiple `source` types:

| Type | Fields | Use case |
| --- | --- | --- |
| `file` | `path` | Bundle a spec under `public/openapi`. |
| `url` | `url`, optional `headers` | Fetch staging/prod specs at build time. |
| `inline` | `document` | Inject a JSON object when you already load the spec elsewhere. |

Specs are cached per request, so multiple components can consume the same document without re-reading the file or refetching.

## Operation overrides

Use `operationOverrides` to tweak the generated metadata per operation:

```ts
operationOverrides: {
  'GET /plants': {
    title: 'List plants',
    badge: 'Stable',
    group: 'Inventory',
    slug: ['plants', 'list'],
  },
  'WEBHOOK POST /plant/webhook': {
    group: 'Webhooks',
    badge: 'Webhook',
  },
}
```

- The key format is `METHOD /path` for endpoints and `WEBHOOK METHOD /path` for webhook entries.
- Supported overrides: `title`, `description`, `badge`, `group`, `slug`, `hidden`.

## Navigation + routing

- `/api` redirects to the first operation of the default spec.
- `/api/:specId/...` renders the matching spec. If the first slug does not match a spec, the default spec is used.
- Navigation hydrates dynamically, so you can load multiple specs and switch between them from the top bar.

## Customization hooks

- Tailwind tokens for HTTP method chips live in `src/components/api/tokens.ts`.
- Swap schema or example renderers by editing the client components in `src/components/api/`.
- Inject a “Try It” button or API key banner via the `children` of `ApiLayout`, or fork `OperationPanel` for per-project branding.

## Try It console

- The request runner lives in `src/components/api/try-it-panel.tsx` and proxies through `src/app/api/try-it/route.ts` to avoid CORS headaches.
- Prefills come from the OpenAPI schema (path/query/header parameters plus the first JSON request body). Override those defaults in `operationOverrides` if you want custom samples.
- Clicking the Try It button opens `src/components/api/try-it-dialog.tsx`, which hosts the runner, live response view, and generated cURL snippet. The floating code sidebar reuses the same controller, so the modal and page stay in sync.
- Add additional headers or auth tokens via the generated inputs; responses stream back with status, headers, and a copy-to-clipboard payload.

## Testing helpers

Vitest tests in `src/lib/openapi/__tests__/normalize.test.ts` exercise the normalization pipeline using the bundled Plant Store spec. Use the same harness when adding edge cases (polymorphic schemas, multiple servers, etc.).


